---
创建时间: 2025-04-24 10:20:33
作者: wangxiaoming
tags:
  - MVC
  - MVP
  - MVVM
  - MVI
---
#### 一、核心定义
##### 1）`MVC（Model-View-Controller）`
- **定义**​：  
    经典三层架构，将应用分为 ​**Model（数据/业务逻辑）​**、**View（界面）​**、**Controller（控制器）​**。
    - ​**Model**​：管理数据和业务逻辑。
    - ​**View**​：展示界面，直接从 Model 读取数据。
    - ​**Controller**​：接收用户输入，协调 Model 和 View 的交互。
- ​**核心思想**​：  
    ​**分层解耦**，但 View 和 Controller 可能耦合，导致代码臃肿。
- ​**关键区别**​：
    - ​**缺点**​：Controller 和 View 难以完全解耦，复杂业务下 Controller 易膨胀。
    - ​**适用场景**​：传统 Web 应用（如 `Spring MVC`）、简单项目快速开发。
##### 2）`MVP（Model-View-Presenter）`
- **定义**​：  
    `MVC` 的改进版，引入 ​**Presenter**​ 作为中间层，View 和 Model 通过 Presenter 交互。
    - ​**Presenter**​：处理业务逻辑，更新 View。
    - ​**View**​：仅负责展示和用户输入，不直接操作 Model。
- ​**核心思想**​：  
    ​**彻底解耦 View 和 Model**，提升可维护性和测试性。
- ​**关键区别**​：
    - ​**缺点**​：Presenter 接口过多时代码臃肿，View 和 Presenter 高度依赖。
    - ​**适用场景**​：需要清晰分离界面和逻辑的移动端/桌面应用（如 Android 早期开发）。
##### 3)`MVVM（Model-View-ViewModel）`
- ​**定义**​：  
    通过 ​`ViewModel` 实现 View 和 Model 的双向数据绑定。
    - ​`ViewModel`​：暴露数据给 View，处理逻辑并自动同步到界面。
    - ​**数据绑定**​：`View` 的变动自动更新 `ViewModel`，反之亦然。
- ​**核心思想**​：  
    ​**数据驱动**，减少手动操作 `DOM`，提升开发效率。
- ​**关键区别**​：
    - ​**优点**​：低耦合、可复用 `ViewModel`、独立开发。
    - ​**缺点**​：双向绑定可能导致内存泄漏或数据倒灌。
    - ​**适用场景**​：现代 Web（如 Angular）、响应式 `UI`（如 `Vue.js`）。
##### 4）`MVI（Model-View-Intent）`
- ​**定义**​：  
    基于 ​**单向数据流**​ 的架构，强调状态管理。
    - ​**Intent**​：用户操作封装为意图（如点击事件）。
    - ​`ViewModel​`：处理 Intent，更新不可变的 ​`ViewState`。
    - ​**View**​：订阅 `ViewState` 变化并刷新界面。
- ​**核心思想**​：  
    ​**唯一可信源**​（单一数据流），确保状态可预测、易测试。
- ​**关键区别**​：
    - ​**优点**​：状态集中管理、可追踪性强、适合复杂交互。
    - ​**缺点**​：State 膨胀、局部刷新困难。
    - ​**适用场景**​：复杂业务逻辑（如电商、社交应用）。
#### 二、对比总结
|​**维度**​|​**MVC**​|​**MVP**​|​**MVVM**​|​**MVI**​|
|---|---|---|---|---|
|​**数据流**​|双向（View↔Controller）|双向（View↔Presenter）|双向（View↔ViewModel）|单向（Intent→ViewModel→State）|
|​**解耦程度**​|低（Controller 胀）|中（Presenter 接口多）|高（数据绑定）|高（单向流）|
|​**测试性**​|差（View 耦合）|中（需模拟 View）|高（ViewModel 独立）|极高（纯逻辑层）|
|​**适用复杂度**​|简单项目|中等复杂度|中高复杂度|高复杂度|
#### 三、面试高频问题
1. ​**为什么 `MVVM` 比 `MVC` 更优？​**​
    - 答：`MVVM` 通过数据绑定减少手动操作 `UI`，解耦更彻底，适合数据驱动场景。
2. ​**MVP 和 `MVI` 的区别？​**​
    - 答：MVP 依赖接口通信，Presenter 可能臃肿；`MVI` 强制单向流，状态集中管理，更适合复杂交互。
3. `​MVI 如何解决状态膨胀？
    - 答：通过组合 State（如使用 `sealed class` 或 `@Immutable` 注解），按功能划分 State 模块。
4. ​**如何选择架构？​**​
    - 答：简单项目用 `MVC`；需测试用 MVP；数据驱动用 `MVVM`；复杂状态用 `MVI`。