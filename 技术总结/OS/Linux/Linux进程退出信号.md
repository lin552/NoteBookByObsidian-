---
创建时间: 2025-05-17 16:07:58
作者: wangxiaoming
tags:
  - Linux
  - 进程
---

在 Linux 系统中，进程退出的信号主要分为 ​**主动终止信号**​ 和 ​**异常终止信号**。以下是常见的进程退出相关信号及其行为：
#### ​**一、主动终止信号（可被捕获或忽略）​**​

1. ​`SIGTERM`（信号编号 15）​**​
    - ​**作用**​：请求进程优雅终止，允许执行清理操作（如释放资源、保存状态）。
    - ​**默认行为**​：终止进程。
    - ​**是否可捕获**​：是（进程可通过 `signal()` 或 `sigaction()` 捕获并自定义处理）。
    - ​**典型场景**​：`kill <pid>` 默认发送此信号。
2. ​`SIGINT`（信号编号 2）​**​
    - ​**作用**​：中断进程，通常由用户按下 `Ctrl+C` 触发。
    - ​**默认行为**​：终止进程。
    - ​**是否可捕获**​：是（例如 Shell 中可通过 `trap` 捕获）。
3. ​`SIGQUIT`（信号编号 3）​**​
    - ​**作用**​：退出并生成核心转储文件（Core Dump）。
    - ​**默认行为**​：终止进程并生成 Core Dump。
    - ​**是否可捕获**​：是（但生成 Core Dump 需系统配置允许）。
#### ​**二、异常终止信号（不可被捕获或忽略）​**​
1. ​`SIGKILL`（信号编号 9）​**​
    - ​**作用**​：强制立即终止进程，无法被捕获或忽略。
    - ​**默认行为**​：直接终止进程。
    - ​**典型场景**​：`kill -9 <pid>` 强制终止顽固进程。
2. ​`SIGABRT`（信号编号 6）​**​
    - ​**作用**​：由进程调用 `abort()` 函数触发，表示异常终止。
    - ​**默认行为**​：终止进程并生成 Core Dump。
    - ​**是否可捕获**​：否（不可被捕获或忽略）。
3. ​`SIGSEGV`（信号编号 11）​**​
    - ​**作用**​：段错误（Segmentation Fault），通常因非法内存访问（如空指针解引用）触发。
    - ​**默认行为**​：终止进程并生成 Core Dump。
    - ​**是否可捕获**​：否。
4. ​`SIGPIPE`（信号编号 13）​**​
    - ​**作用**​：管道破裂（Broken Pipe），当进程向无读者的管道写数据时触发。
    - ​**默认行为**​：终止进程。
    - ​**是否可捕获**​：是（但通常建议忽略，如在管道读端关闭后，写端可忽略此信号）。
#### ​**三、其他可能导致退出的信号**​
1. ​`SIGHUP`（信号编号 1）​**​
    - ​**作用**​：终端关闭或控制进程终止时发送给关联进程组。
    - ​**默认行为**​：终止进程。
    - ​**是否可捕获**​：是（例如 `nginx` 捕获此信号以重新加载配置）。
2. ​`SIGALRM`（信号编号 14）​**​
    - ​**作用**​：定时器超时（由 `alarm()` 函数设置）。
    - ​**默认行为**​：终止进程。
    - ​**是否可捕获**​：是（但需谨慎处理）。
#### ​**四、信号总结表**​

|​**信号**​|​**编号**​|​**默认行为**​|​**是否可捕获**​|​**典型触发场景**​|
|---|---|---|---|---|
|​**SIGTERM**​|15|终止|是|`kill <pid>`|
|​**SIGKILL**​|9|终止（不可逆）|否|`kill -9 <pid>`|
|​**SIGINT**​|2|终止|是|`Ctrl+C`|
|​**SIGQUIT**​|3|终止 + 生成 Core Dump|是|`Ctrl+\`|
|​**SIGABRT**​|6|终止 + 生成 Core Dump|否|`abort()` 函数调用|
|​**SIGSEGV**​|11|终止 + 生成 Core Dump|否|空指针解引用、内存越界|
|​**SIGPIPE**​|13|终止|是|向无读者的管道写数据|
|​**SIGHUP**​|1|终止|是|终端关闭、控制进程退出|

#### ​**五、关键点**​
1. ​**信号优先级**​：
    - 若多个信号同时发生，内核按信号编号顺序处理（数值小的优先）。
2. ​**信号屏蔽**​：
    - 进程可通过 `sigprocmask()` 临时屏蔽某些信号（如忽略 `SIGTERM`）。
3. ​**Core Dump**​：
    - 生成 Core Dump 需系统配置（`ulimit -c unlimited`），用于调试崩溃原因。