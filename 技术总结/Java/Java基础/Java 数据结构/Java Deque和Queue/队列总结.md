---
创建时间: 2025-05-13 13:30:55
作者: wangxiaoming
tags:
  - Deque
  - Queue
---
#### 一、核心队列实现类对比

| **特性**​             | ​**ArrayDeque**​                      | ​**LinkedList**​                 | ​**PriorityQueue**​      | ​**PriorityBlockingQueue**​ | ​**ConcurrentLinkedDeque**​           | ​**LinkedBlockingDeque**​      | ​**SynchronousQueue**​ | ​**DelayQueue**​            | ​**LinkedTransferQueue**​ |
| ------------------- | ------------------------------------- | -------------------------------- | ------------------------ | --------------------------- | ------------------------------------- | ------------------------------ | ---------------------- | --------------------------- | ------------------------- |
| ​**底层结构**​          | 循环数组                                  | 双向链表                             | 二叉堆（数组模拟）                | 二叉堆（数组模拟）                   | 双向链表                                  | 单向链表                           | 无缓冲（直接传递）              | 优先级堆（数组模拟）                  | 无界链表                      |
| ​**线程安全**​          | 非线程安全                                 | 非线程安全                            | 非线程安全                    | 线程安全（锁）                     | 线程安全（CAS）                             | 线程安全（锁）                        | 线程安全（CAS）              | 线程安全（锁）                     | 线程安全（CAS）                 |
| ​**操作特性**​          | 双端队列（FIFO/LIFO），支持栈操作                 | 双端队列（FIFO/LIFO），支持栈操作            | 优先级队列（仅队尾插入，队头删除）        | 优先级队列（阻塞）                   | 双端队列（FIFO/LIFO）                       | 双端队列（FIFO/LIFO）                | 无存储（直接传递）              | 延迟队列（按延迟时间排序）               | 无界队列（支持高效传输）              |
| ​**时间复杂度（插入/删除）​**​ | O(1)（均摊）                              | O(1)（均摊）                         | O(log n)                 | O(log n)                    | O(1)（均摊）                              | O(1)（非阻塞） / O(log n)（阻塞）       | O(1)（直接传递）             | O(log n)                    | O(1)（均摊）                  |
| ​**是否允许 `null`**​   | 不允许                                   | 允许                               | 不允许                      | 不允许                         | 允许                                    | 允许                             | 不允许                    | 不允许                         | 允许                        |
| ​**扩容机制**​          | 动态扩容（循环数组，容量翻倍）                       | 无扩容（链表结构）                        | 动态扩容（数组，容量翻倍）            | 动态扩容（数组，容量翻倍）               | 无扩容（链表结构）                             | 可选有界（默认无界）                     | 无扩容                    | 无扩容                         | 无扩容                       |
| ​**阻塞支持**​          | 不支持                                   | 不支持                              | 不支持                      | 支持（`put`/`take`）            | 不支持                                   | 支持（`put`/`take`）               | 支持（直接传递）               | 支持（`take` 阻塞直到元素可用）         | 不支持                       |
| ​**适用场景**​          | 高效双端操作、栈、滑动窗口算法                       | 普通队列、双向操作（如撤销/重做）                | 优先级调度（非并发）               | 优先级任务调度（并发）                 | 高并发双端操作                               | 生产者-消费者模型（有界阻塞）                | 直接任务传递（如线程池任务交接）       | 定时任务调度                      | 高吞吐量任务传输（如并行计算）           |
| ​**内存占用**​          | 较低（数组紧凑）                              | 较高（链表节点）                         | 较高（堆结构需要额外指针）            | 较高（堆结构 + 锁）                 | 较高（链表节点）                              | 较高（链表节点 + 锁）                   | 极低（无存储）                | 较高（堆结构 + 锁）                 | 较高（链表节点）                  |
| ​**并发性能**​          | 非并发场景最佳                               | 非并发场景中等                          | 非并发场景最佳                  | 锁竞争可能成为瓶颈                   | 高吞吐量（无锁）                              | 锁竞争可能成为瓶颈                      | 高吞吐量（无锁）               | 锁竞争可能成为瓶颈                   | 高吞吐量（无锁）                  |
| ​**排序规则**​          | 无默认排序                                 | 无默认排序                            | 默认小顶堆（可自定义 `Comparator`） | 默认小顶堆（可自定义 `Comparator`）    | 无默认排序                                 | 无默认排序                          | 无排序                    | 元素需实现 `Delayed` 接口（按延迟时间排序） | 无默认排序                     |
| ​**是否无界**​          | 无界（自动扩容）                              | 无界                               | 无界                       | 无界                          | 无界                                    | 可选有界                           | 无界                     | 无界                          | 无界                        |
| ​**典型方法**​          | `addFirst`, `pollLast`, `push`, `pop` | `add`, `remove`, `offer`, `poll` | `offer`, `poll`, `peek`  | `offer`, `poll`, `peek`     | `addFirst`, `pollLast`, `push`, `pop` | `put`, `take`, `offer`, `poll` | `put`, `take`          | `put`, `take`               | `offer`, `poll`           |
