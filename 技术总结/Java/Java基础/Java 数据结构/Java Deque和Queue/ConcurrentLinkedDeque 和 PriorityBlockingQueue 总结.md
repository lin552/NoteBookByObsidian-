---
创建时间: 2025-05-13 13:05:29
作者: wangxiaoming
tags:
  - Deque
  - Queue
---
#### 一、`ConcurrentLinkedDeque`

##### **1. 定义与原理**​

- ​**定义**​：`ConcurrentLinkedDeque` 是基于无锁算法（`CAS`）实现的无界线程安全双端队列，支持在头部和尾部高效插入/删除元素，适用于高并发场景。
- ​**原理**​：
    - ​**底层结构**​：基于双向链表，节点包含 `prev` 和 `next` 指针，通过 `CAS` 操作保证线程安全。
    - ​**松弛阈值设计**​：`head` 和 `tail` 指针不严格指向首尾节点，允许距离不超过 1 个节点，减少 `CAS` 更新频率
    - ​**删除优化**​：采用三阶段删除策略（逻辑删除→解除链接→`GC` 优化），通过 `HOPS` 阈值控制内存回收效率
##### ​**2. 使用方法**​
- ​**核心操作**​：
    - ​**双端操作**​：`addFirst(e)/addLast(e)`、`pollFirst()/pollLast()`、`peekFirst()/peekLast()`。
    - ​**栈操作**​：`push(e)`（压栈）、`pop(e)`（弹栈）。
    - ​**队列操作**​：`offer(e)`（入队）、`poll()`（出队）。