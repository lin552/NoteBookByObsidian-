#### 一、死锁的定义
死锁(Deadlock)是指两个或多个进程或线程在执行过程中，因竞争资源或彼此通信而陷入互相等待的状态，导致所有进程无法继续推进，此时若无外部干预（如强制终止进程或释放资源），这些进程将永久阻塞
- **经典场景**：进程A持有资源1并等待资源2，进程B持有资源2并等待资源1，形成循环依赖
- ​**数据库实例**：事务A锁定行1，事务B锁定行2，双方均需对方释放锁才能继续，导致永久阻塞

#### 二、死锁的四个必要条件
##### 1)互斥条件（Mutual Exclusion）
- ​**定义**：资源具有排他性，同一时间只能被一个进程占用
- ​**示例**：打印机、数据库行锁等独占资源，其他进程需等待当前持有者释放后才可使用。

##### 2)请求与保持条件（Hold and Wait）
- ​**定义**：进程已持有至少一个资源，同时请求新的资源，且**不释放已持有资源**
- ​**示例**：线程1持有锁A并尝试获取锁B，而锁B正被线程2持有。

##### 3)不可剥夺条件（No Preemption）
- **定义**：进程已获得的资源在未使用完毕前不能被强制剥夺，只能由进程主动释放
- ​**示例**：若线程持有的锁无法被系统强制回收，其他线程只能等待。

##### 4)循环等待条件
- **定义**：存在进程与资源的环形依赖链，每个进程都在等待下一个进程持有的资源
- ​**示例**：进程P1→P2→P3→P1形成循环等待链，如“哲学家进餐问题”

#### 三、解决与预防
破坏必要条件：
- 限制资源独占性（破坏互斥）
- 强制剥夺资源（破坏不可剥夺）
- 按固定顺序申请资源（破坏循环等待）